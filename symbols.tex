\newenvironment{centered}{\centering}{\par}

\definecolor{highlight}{RGB}{230,255,230}
\definecolor{darkgreen}{RGB}{76,170,76}
\definecolor{lavender}{RGB}{162,85,162}

\newcommand{\mathcolorbox}[2]{\colorbox{#1}{$\displaystyle #2$}}
\newcommand{\hlfancy}[2]{\sethlcolor{#1}\hl{#2}}
\makeatletter
\renewcommand*{\@textcolor}[3]{%
  \protect\leavevmode
  \begingroup
    \color#1{#2}#3%
  \endgroup
}
\makeatother

\newcommand{\subsubsubsection}[1]{\paragraph{\textbf{\textit{#1}}}}

\theoremstyle{plain}
\newtheorem*{theorem}{Theorem}
\newtheorem*{lemma}{Lemma}

\newtheorem{theoremn}{Theorem}[section]
\newtheorem{lemman}[theoremn]{Lemma}

\theoremstyle{definition}
\newtheorem*{definition}{Definition}
\newtheorem*{base}{Base}
\newtheorem*{induction}{Induction}
\newtheorem*{fact}{Fact}

\newcommand{\ubar}[1]{\underaccent{\bar}{#1}}

\newcommand{\rulen}[1]{~~\text{(#1)}}
\newcommand{\judgment}[3]{\inferrule{#1}{#2}\rulen{\textsc{#3}}}
\newcommand{\judgbox}[1]{\noindent \fbox{$#1$}}

\newcommand{\Gammad}{\dot{\Gamma}}
\newcommand{\taud}{\dot{\tau}}
\newcommand{\taudp}{\taud'}
\newcommand{\tauh}{\hat{\tau}}
\newcommand{\tauhp}{\tauh'}
\newcommand{\edot}{\dot{e}}
\newcommand{\edotp}{\dot{e}'}
\newcommand{\ehat}{\hat{e}}
\newcommand{\ehatp}{\ehat'}

\newcommand{\HTNumC}{\texttt{num}}
\newcommand{\HTStrC}{\texttt{str}}
\newcommand{\HTArrowC}[2]{(#1 \to #2)}

\newcommand{\HEStrLitC}{\texttt{"}\ubar{s}\texttt{"}}
\newcommand{\HEStrSubC}[3]{#1\texttt{[}#2\texttt{:}#3\texttt{]}}

\newcommand{\ZCursor}[1]{\mathcolorbox{highlight}{\textcolor{darkgreen}{\bm{\triangleright}}#1\textcolor{darkgreen}{\bm{\triangleleft}}}}
\newcommand{\ZCursorHole}{\ZCursor{\ZHoleS}}
\newcommand{\ZHole}[1]{\textcolor{lavender}{\bm{(\mid}}#1\textcolor{lavender}{\bm{\mid)}}}
\newcommand{\ZHoleS}{\textcolor{lavender}{\bm{(\mid\mid)}}}

\newcommand{\ZEStrSubC}[3]{\ZCursor{\HEStrSubC{#1}{#2}{#3}}}
\newcommand{\ZEStrSubCI}[3]{\HEStrSubC{\ZCursor{#1}}{#2}{#3}}
\newcommand{\ZEStrSubCII}[3]{\HEStrSubC{#1}{\ZCursor{#2}}{#3}}
\newcommand{\ZEStrSubCIII}[3]{\HEStrSubC{#1}{#2}{\ZCursor{#3}}}

\newcommand{\AAArrow}[2]{#1 \stackrel{\alpha}{\longrightarrow} #2}
\newcommand{\AEMChild}[3]{#2 \xrightarrow{\texttt{move child #1}} #3}
\newcommand{\AEMParent}[2]{#1 \xrightarrow{\texttt{move parent}} #2}
\newcommand{\AC}[3]{#2 \xrightarrow{\texttt{construct #1}} #3}
\newcommand{\ACStrLit}[2]{\AC{lit $\HEStrLitC$}{#1}{#2}}
\newcommand{\ACStrSub}[2]{\AC{subscript}{#1}{#2}}

\newcommand{\isConsistent}[2]{\ensuremath{#1 \sim #2}}
\newcommand{\isNotConsistent}[2]{\ensuremath{#1 \nsim #2}}

\newcommand{\contextExpr}[2]{\ensuremath{#1 \vdash #2}}
\newcommand{\hasType}[3]{\ensuremath{#1 \vdash #2 : #3}}
\newcommand{\hasTypeD}[4]{\ensuremath{#1; #2 \vdash #3 : #4}}
\newcommand{\hasTypeDX}[3]{\ensuremath{\hasTypeD{\Delta}{#1}{#2}{#3}}}
\newcommand{\synType}[3]{\ensuremath{#1 \vdash #2 \Rightarrow #3}}
\newcommand{\synTypeC}[2]{\ensuremath{#1 \Rightarrow #2}}
\newcommand{\synTypeD}[4]{\ensuremath{#1; #2 \vdash #3 \Rightarrow #4}}
\newcommand{\synTypeDX}[3]{\ensuremath{\synTypeD{\Delta}{#1}{#2}{#3}}}
\newcommand{\anaType}[3]{\ensuremath{#1 \vdash #2 \Leftarrow #3}}
\newcommand{\anaTypeC}[2]{\ensuremath{#1 \Leftarrow #2}}
\newcommand{\anaTypeD}[4]{\ensuremath{#1; #2 \vdash #3 \Leftarrow #4}}
\newcommand{\anaTypeDX}[3]{\ensuremath{\anaTypeD{\Delta}{#1}{#2}{#3}}}
